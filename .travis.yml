language: rust
cache: cargo
before_script:
  - rustup default nightly-2019-03-23-x86_64-unknown-linux-gnu
  - rustup component add clippy
  - rustup component add rustfmt
rust:
  - nightly
matrix:
  fast_finish: true
script:
  - cargo check
  - cargo clippy --all-features -- -D warnings
  - cargo test --doc
  - cargo test --lib
  - cargo fmt --all -- --check